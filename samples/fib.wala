func $fib (export "fib")
  param $n i64
  result i64
  nop ;; check for optimizations
  if (result i64) {(local.get $n) i64.le_u (i64.const 1)}
    i64.const 1
    i64.add
      call $fib {(local.get $n) i64.sub (i64.const 2)}
      call $fib {(local.get $n) i64.sub (i64.const 1)}
